<!DOCTYPE html>
<html>
	<head>
		<title>Tic Tac Toe</title>
		<link rel="stylesheet" type="text/css" href="/assets/css/normalize.css" />
		<link rel="stylesheet" type="text/css" href="/assets/css/skeleton.css" />
		<link rel="stylesheet" type="text/css" href="/assets/css/main.css" />
		<link rel="shortcut icon" href="/assets/images/tree.ico" />
		<meta name="viewport" content="width=device-width, initial-scale=1" />
		<!-- Begin Jekyll SEO tag v2.6.1 -->
		<title>Tic Tac Toe | mdave16</title>
		<meta name="generator" content="Jekyll v3.9.0" />
		<meta property="og:title" content="Tic Tac Toe" />
		<meta property="og:locale" content="en_US" />
		<meta
			name="description"
			content="Personal website of Mayur Dave, software engineer who enjoys maths and board games."
		/>
		<meta
			property="og:description"
			content="Personal website of Mayur Dave, software engineer who enjoys maths and board games."
		/>
		<link rel="canonical" href="/tic-tac-toe" />
		<meta property="og:url" content="/tic-tac-toe" />
		<meta property="og:site_name" content="mdave16" />
		<meta name="twitter:card" content="summary" />
		<meta property="twitter:title" content="Tic Tac Toe" />
		<meta name="twitter:site" content="@mdave248" />
		<meta name="twitter:creator" content="@mdave248" />
		<script type="application/ld+json">
			{
				"description": "Personal website of Mayur Dave, software engineer who enjoys maths and board games.",
				"@type": "WebPage",
				"publisher": {
					"@type": "Organization",
					"logo": {
						"@type": "ImageObject",
						"url": "http://mdave16.github.io/pages/mdave16/assets/images/tree.ico"
					}
				},
				"url": "/tic-tac-toe",
				"headline": "Tic Tac Toe",
				"@context": "https://schema.org"
			}
		</script>
		<!-- End Jekyll SEO tag -->
	</head>
	<body>
		<div class="container">
			<header>
				<nav class="row">
					<a class="three columns" href="/">Home</a>
					<a class="three columns" href="/cv">CV</a>
					<a class="three columns" href="/quotes">Quotes</a>
					<a class="three columns" href="/notes">Notes</a>
				</nav>
			</header>
			<style>
				.grid {
					display: grid;
					grid-template-columns: 32.5% 32.5% 32.5%;
					grid-template-rows: 104px 104px 104px;
					background-color: #2196f3;
					padding: 10px;
					grid-gap: 10px;
				}

				.cell {
					background-color: rgba(255, 255, 255, 0.8);
					padding: 20px;
					font-size: 4rem;
					text-align: center;
				}
			</style>

			<div class="grid" id="grid">
				<div class="cell" data-played onclick="play(event.target)"></div>

				<div class="cell" data-played onclick="play(event.target)"></div>

				<div class="cell" data-played onclick="play(event.target)"></div>

				<div class="cell" data-played onclick="play(event.target)"></div>

				<div class="cell" data-played onclick="play(event.target)"></div>

				<div class="cell" data-played onclick="play(event.target)"></div>

				<div class="cell" data-played onclick="play(event.target)"></div>

				<div class="cell" data-played onclick="play(event.target)"></div>

				<div class="cell" data-played onclick="play(event.target)"></div>
			</div>

			<div id="game-overlay" class="hidden">
				<span id="info"></span>
				<span id="score"></span>
				<button class="button-primary" id="reset-button" onclick="reset()">
					Reset
				</button>
			</div>

			<script>
				let player = "X";
				let score = { X: 0, O: 0 };
				const winningCombos = [
					// horizontal
					[0, 1, 2],
					[3, 4, 5],
					[6, 7, 8],
					// vertical
					[0, 3, 6],
					[1, 4, 7],
					[2, 5, 8],
					//diagonal
					[0, 4, 8],
					[2, 4, 6],
				];
				const gameOverlay = document.getElementById("game-overlay");
				const cells = Array.from(document.getElementsByClassName("cell"));
				const info = document.getElementById("info");
				const scoreDisplay = document.getElementById("score");

				const winner = () => {
					const grid = cells.map((cell) => cell.dataset.played);
					const combo = winningCombos.filter(
						(combo) =>
							grid[combo[0]] === grid[combo[1]] &&
							grid[combo[0]] === grid[combo[2]] &&
							grid[combo[0]] !== ""
					);
					return combo.length > 0;
				};
				const over = () =>
					cells.map((c) => c.dataset.played).every((c) => c !== "");
				const reset = () => {
					cells.map((cell) => (cell.dataset.played = ""));
					gameOverlay.classList.toggle("hidden");
				};
				const play = (cell) => {
					if (!gameOverlay.classList.contains("hidden")) {
						return null;
					}
					if (cell.dataset.played === "") {
						cell.dataset.played = player;
						if (winner()) {
							gameOverlay.classList.toggle("hidden");
							info.innerText = `Congratulations! The winner is: ${player}.`;
							score[player]++;
							scoreDisplay.innerText = `Current score: X: ${score["X"]} - O: ${score["O"]}`;
						} else if (over()) {
							gameOverlay.classList.toggle("hidden");
							info.innerText = `Game over. Try again.`;
						} else {
							player = player === "X" ? "O" : "X";
						}
					}
				};
			</script>
			<footer>
				<div class="row">
					<a class="three columns" href="/contact">Leave Feedback</a>
					<a class="three columns" href="https://github.com/mdave16">
						<svg class="svg-icon">
							<use
								xlink:href="/assets/images/minima-social-icons.svg#github"
							></use>
						</svg>
						<span class="username">mdave16</span>
					</a>
					<a
						class="three columns"
						href="https://www.linkedin.com/in/mayur-dave-b058179a"
					>
						<svg class="svg-icon">
							<use
								xlink:href="/assets/images/minima-social-icons.svg#linkedin"
							></use>
						</svg>
						<span class="username">mayur-dave-b058179a</span>
					</a>
					<a class="three columns" href="https://www.twitter.com/mdave248">
						<svg class="svg-icon">
							<use
								xlink:href="/assets/images/minima-social-icons.svg#twitter"
							></use>
						</svg>
						<span class="username"
							>{&quot;username&quot;=&gt;&quot;mdave248&quot;}</span
						>
					</a>
				</div>
			</footer>
		</div>
	</body>
</html>
