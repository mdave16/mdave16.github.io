---
layout: default
title: ChatBot
---

<table id="chatlog">
  <thead>
    <tr>
      <th> Name </th>
      <th> Speech </th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td> <p id="userName"></p> </td>
      <td> <input type="text" placeholder="Say something!" id="userSpeech"/> </td>
    </tr>
  </tbody>
</table>

<script>
let	userName = "Mayur"
document.getElementById("userName").innerHTML = userName;

function speak(name, comm) {
  var table = document.getElementById("chatlog");
  var newRow = table.insertRow(table.rows.length - 1);
  var newName = newRow.insertCell(0);
  var newComment = newRow.insertCell(1);
  newName.innerHTML = name;
  newComment.innerHTML = comm;
}

function chatBot(name) {
  this.name = name;
  this.respond = function (inp) {
		if(inp.toLowerCase().startsWith("my name is")) {
			userName = inp.split(" ")[3]
			document.getElementById("userName").innerHTML = userName;
			speak(this.name, "Nice to meet you " + userName )
		} else {
      speak(this.name, inp + " to you too!" )
	  }
  }
}

var Chatty = new chatBot("Chatty");
speak("Chatty", "Hi! I'm your chatBot")

const input = document.getElementById("userSpeech");
input.addEventListener("keyup", function(event) {
    if (event.key === "Enter") {
			var comm = event.target.value
			input.value = ''
			speak(userName, comm)
			Chatty.respond(comm);
    }
});

</script>
